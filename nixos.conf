
{ config, lib, pkgs, ... }:

{
  imports =
    [
      ./hardware-configuration.nix
    ];

  boot.loader.systemd-boot.enable = true;
  boot.loader.efi.canTouchEfiVariables = true;
# -----------------------------------------
  services.xserver = {
    enable = true;
    windowManager.i3.enable = true;
    displayManager.startx.enable = true;
    xkb.layout = "us,ru";
    xkb.options = "grp:win_space_toggle";
  };
  services.greetd = {
    enable = true;
    settings = {
      default_session = {
        command = "tuigreet --cmd 'startx > /dev/null 2>&1'";
        user = "greeter";
      };
    };
  };
# -----------------------------------------
  networking.useDHCP = false;
  networking.interfaces.enp4s0 = {
    ipv4.addresses = [{
      address = "192.168.102.68";
      prefixLength = 24;
    }];
  };

  networking.defaultGateway = "192.168.102.100";
  networking.nameservers = [ "192.168.105.12" ];
# -----------------------------------------
  time.timeZone = "Europe/Minsk";
# -----------------------------------------
  users.users.valjean = {
    isNormalUser = true;
    extraGroups = [ "wheel" "vboxusers" ];
  };
# -----------------------------------------
  nixpkgs.config.allowUnfree = true;
  virtualisation.virtualbox.host.enable = true;
# -----------------------------------------
  fileSystems."/home/valjean/storage_data" = {
    device = "/dev/disk/by-uuid/1545d237-eafc-4816-b600-ebd2266bb141";
    fsType = "ext4";
  };
# -----------------------------------------
  environment.systemPackages = with pkgs; [
    vim
    bash
    brave
    kitty
    picom
    polybar
    anydesk
    twinkle
    flameshot
    xwallpaper
    greetd.tuigreet
  ];
# -----------------------------------------
  system.stateVersion = "25.05";

}

